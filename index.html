<!DOCTYPE html>
<html lang="en">
<head>
    <title>Winston Ye</title>
    <meta name="description" content="Winston Ye - web-focused software developer and student.">
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8"> 
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Thasadith&family=Ubuntu+Mono&display=swap" rel="stylesheet" as="style" onload="this.onload=null;this.rel='stylesheet'"> 
    <noscript>
        <link rel="stylesheet" href=href="https://fonts.googleapis.com/css2?family=Thasadith&family=Ubuntu+Mono&display=swap" type="text/css"/>
    </noscript>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>    
    <div id='nav' class="navbar">
        <a id='nav-intro' class="navitem"><p>Me</p></a>
        <a id='nav-projects' class="navitem"><p>Projects</p></a>
        <a id='nav-contact' class="navitem"><p>Contact</p></a>
    </div>

    <hgroup class='speech-bubble' id='contextBubble'>
        <h2 id='contextBubbleContent'></h2>
    </hgroup>

    <div id="intro" class="intro parallax" name="intro">
        <div>
            <h1>Winston Ye</h1><h1 id='blink'>_</h1>
        </div>
    </div>
        
    <div id="projects" class="projects parallax" name="projects">
        <div id="myProjects"> 
            <div class="div-projects-holder" >                
                <a href="https://sfu.ca/~winstony/coverlist/coverlist.html" id='coverlist' class="div-project-container button">
                    <div>
                        <div class="div-project noImg">c</div>
                        <h2>coverlist</h2>
                    </div>
                </a>
                
                <a href="https://github.com/trtri2/FirstBite" id='firstbite' class="div-project-container button">
                    <div>
                        <div class="div-project noImg">f</div>
                        <h2>FirstBite</h2>
                    </div>
                </a>

                <a href="https://github.com/yewinston/p2py" id='p2py' class="div-project-container button">
                    <div>
                        <div class="div-project noImg">p</div>
                        <h2>p2py</h2>
                    </div>
                </a>

                <a href="https://github.com/yewinston/Pure-MCTS-Reversi" id='reversi' class="div-project-container button">
                    <div>
                        <div class="div-project noImg">r</div>
                        <h2>Pure MCTS Reversi</h2>
                    </div>
                </a>

                <a href="https://yewinston.github.io/The-Shoppies/" id='shoppies' class="div-project-container button">
                    <div>
                        <div class="div-project noImg">s</div>
                        <h2>The Shoppies</h2>
                    </div>
                </a>

                <a href="https://github.com/le-rich/Bizhacks2019-VisualEyes" id='visualeyes' class="div-project-container button">
                    <div>
                        <div class="div-project noImg">v</div>
                        <h2>VisualEyes</h2>
                    </div>
                </a>
            </div>

        </div>
    </div>

    <div id="contact" class="contact parallax" name="contact">
        <div id='contactBG'>            
            <div class="div-projects-holder">
                <a href="https://www.linkedin.com/in/winston-ye" id='linkedin' class="noBubble div-project-container">
                    <div>
                        <div class="div-project">
                            <img src="img/linked.png">
                        </div>
                    </div>
                </a>
                
                <a href="https://github.com/yewinston" id='github' class="noBubble div-project-container">
                    <div>
                        <div class="div-project">
                            <img src="img/github.png">
                        </div>
                    </div>
                </a>
                
                <a href="https://www.instagram.com/winstonye/" id='instagram' class="noBubble div-project-container">
                    <div>
                        <div class="div-project">
                            <img src="img/ig.png">
                        </div>
                    </div>
                </a>

                <a href="mailto:winstony@sfu.ca" id='email' class="noBubble div-project-container">
                    <div>
                        <div class="div-project">
                            <img src="img/email.svg">
                        </div>
                    </div>
                </a>
            </div>


            
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="js/jquery.scrollify.js"></script>
    
    <script>
        const rgb2hex = (rgb) => `#${rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/).slice(1).map(n => parseInt(n, 10).toString(16).padStart(2, '0')).join('')}`

        let contextBubble = document.getElementById('contextBubble'),
            content = document.getElementById('contextBubbleContent');

        const navItems = document.querySelectorAll('.navitem');
        
        const bubbleContent = {
            // Projects
            "bedtime": "Bedtime is a JavaScript project that calculates the best time to sleep.",
            "coverlist": "coverlist is a JavaScript project that allows a user to make nested YouTube playlists.",
            "firstbite": "FirstBite is an iOS application created in SFU's intro to software engineering course (CMPT 276) in a group of 5. It was made to aid new parents with their newborn's nutrition.",
            "p2py": "p2py is an experimental Python application created in SFU's Networking II course (CMPT 471) in a group of 3. It emulates a peer-to-peer TCP file transfer using socket programming.",
            "reversi": "A Reversi AI built in C++ that utilizes a pure Monte-Carlo tree search (heuristic search algorithm) to determine the next possible move.",
            "shoppies": "The Shoppies is a React.js application that allows you to search and nominate your favourite movies.",
            "visualeyes": "VisualEyes is an Android/iOS (Unity) image recognition application created within 24 hours at the BizHacks 2019 Hackathon. Overall 2nd place prize.",
        }

        const sectionColours = {
            "intro": "#4c5b6b",
            "projects": "#927a66",
            "contact": "#242424"
        }

        const navColours = {
            "inactive": "#fff",
            "active": "#ed7440",
            "hover": "#7ac7c4"
        }

        document.querySelectorAll('.div-project-container').forEach((project) => {
            if(project.classList[0] === 'div-project-container') {
                project.addEventListener('mouseleave', function() {
                    contextBubble.style.visibility = 'hidden';
                });

                project.addEventListener('mouseover', function() {
                    content.innerHTML = bubbleContent[project.id];
                    contextBubble.style.visibility = 'visible';
                })
            }
        });

        // Navigation item top border colour change via mouse events
        navItems.forEach((navItem, i) => {
            navItem.onmouseover = () => {
                navItem.style.transition = "border-top-color 0.1s ease-in-out";
                let rgbColor = rgb2hex(navItem.style.borderTopColor);
                if(rgbColor !== navColours.active){
                    navItem.style.borderTopColor = navColours.hover;
                }
            }

            navItem.onmouseleave = () => {
                if(navItem.style.borderTopColor !== ""){
                    let rgbColor = rgb2hex(navItem.style.borderTopColor);
                    if(rgbColor !== navColours.active){
                        navItem.style.borderTopColor = navColours.inactive;
                    }
                }
            }

            navItem.onclick = () => {
                let section = "#" + (i+1);
                $.scrollify.move(section);
                navItem.style.borderTopColor = navColours.active;
            }
        });

        // Scrollify
        $(function() {
          $.scrollify({
            section : ".parallax",
            scrollSpeed: 1000,
            before:function(){
                let currentSection = $.scrollify.current(),
                    currentSectionID = currentSection[0].id,
                    navBarColour = sectionColours[currentSectionID] != undefined ? sectionColours[currentSectionID] : sectionColours.intro;

                navItems.forEach(function(navItem){
                    navItem.style.backgroundColor = navBarColour;
                    if(navItem.id.includes(currentSectionID.toLowerCase())){
                        navItem.style.borderTopColor = navColours.active;
                    }
                    else{
                        navItem.style.borderTopColor = navColours.inactive;
                    }
                });
            }
          });
        });
    </script>

</body>
</html>